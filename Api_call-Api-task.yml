parameters:
- name: url 
  type: string
- name: 'headers'     
  type: object
- name: 'returnVariableName'
  type: string
  default: 'LatestVersion'


steps:
- ${{ each headers in parameters.headers }}:
  - task: Bash@3
    name: Genral_api_call_to_get_version_task
    displayName: 'Genral api call to get version '
    inputs:
      targetType: 'inline'
      script: |
        LatestVersion=$(curl --header ${{ headers }} ${{ parameters.url }})
